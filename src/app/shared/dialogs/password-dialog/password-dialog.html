<form [formGroup]="passwordConfirmForm" (ngSubmit)="onSubmit()" class="password-confirm-form">
    <label for="password">Для сохранения изменений введите пароль:</label>
    <div>
        <app-password-input
            [control]="passwordConfirmForm.controls.password"
            [isInvalid]="isControlInvalid('password')"
            [(isPasswordVisible)]="isPasswordVisible"
            placeholder="Пароль"
        ></app-password-input>
        <app-control-error
            [form]="passwordConfirmForm"
            controlName="password"
            [isSubmitted]="isSubmitted()"
        ></app-control-error>
    </div>
    @if (formError()) {
        <p-message severity="error" size="small" variant="simple">{{ formError() }}</p-message>
    }
    <button
        pButton
        type="submit"
        [label]="isLoading() ? 'Проверка' : 'Продолжить'"
        [loading]="isLoading()"
        [disabled]="!isControlsCompleted() || (isSubmitted() && passwordConfirmForm.invalid)"
    ></button>
</form>
