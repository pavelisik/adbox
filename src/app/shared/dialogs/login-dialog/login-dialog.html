<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div>
        <input
            pInputText
            placeholder="Логин"
            formControlName="login"
            autocomplete="username"
            [invalid]="isControlInvalid('login')"
        />
        <app-control-error
            [form]="loginForm"
            controlName="login"
            [isSubmitted]="isSubmitted()"
        ></app-control-error>
    </div>
    <div>
        <app-password-input
            [control]="loginForm.controls.password"
            [isInvalid]="isControlInvalid('password')"
            [(isPasswordVisible)]="isPasswordVisible"
            placeholder="Пароль"
        ></app-password-input>
        <app-control-error
            [form]="loginForm"
            controlName="password"
            [isSubmitted]="isSubmitted()"
        ></app-control-error>
    </div>
    <div class="login-dialog__bottom-line">
        <div class="login-dialog__remember-me">
            <p-checkbox
                inputId="rememberMe"
                formControlName="rememberMe"
                [binary]="true"
            ></p-checkbox>
            <label for="rememberMe">Запомнить меня</label>
        </div>
        <a [routerLink]="[]" class="login-dialog__link">Забыли пароль?</a>
    </div>
    <app-form-message [error]="errorMessage()"></app-form-message>
    <button
        pButton
        type="submit"
        [label]="isLoading() ? 'Вход' : 'Войти'"
        [loading]="isLoading()"
        [disabled]="!isAllRequiredCompleted() || (isSubmitted() && loginForm.invalid)"
    ></button>
</form>
